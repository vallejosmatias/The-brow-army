<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/css/admin.css" />
    <title>{{title}}</title>
  </head>
  <body>

    <div class="container-newcourse">
      <h2>Crear Nuevo Curso</h2>
      <form action="/admin/courses" method="POST">
        <div class="container-groups">
          <div class="group-input">
            <label for="title">Título:</label><br />
            <input type="text" id="title" name="title" required /><br />
            <label for="description">Descripción:</label><br />
            <textarea
              id="description"
              name="description"
              rows="4"
              required
            ></textarea><br />
            <label for="price">Precio:</label><br />
            <input
              type="number"
              id="price"
              name="price"
              min="0"
              step="0.01"
              required
            /><br />
          </div>
          <div class="group-input">
            <label for="imgUrl">URL de la Imagen:</label><br />
            <input type="text" id="imgUrl" name="imgUrl" /><br />
            <label for="videoUrl">URL del Video:</label><br />
            <input type="text" id="videoUrl" name="videoUrl" /><br />
          </div>
        </div>
        <button type="submit">Crear Curso</button>
      </form>
    </div>

    <div class="container-newproduct">
      <h2>Crear Nuevo Producto</h2>
      <form action="/admin/products" method="POST">
        <div class="container-groups">
          <div class="group-input">
            <label for="productName">Nombre:</label><br />
            <input
              type="text"
              id="productName"
              name="productName"
              required
            /><br />
            <label for="productDescription">Descripción:</label><br />
            <textarea
              id="productDescription"
              name="productDescription"
              rows="4"
              required
            ></textarea><br />
            <label for="productPrice">Precio:</label><br />
            <input
              type="number"
              id="productPrice"
              name="productPrice"
              min="0"
              step="0.01"
              required
            /><br />

          </div>
          <div class="group-input">
                <label for="productStock">Stock:</label><br />
        <input type="number" id="productStock" name="productStock" min="0" required /><br />
            <label for="productImgUrl">URL de la Imagen:</label><br />
            <input type="text" id="productImgUrl" name="productImgUrl" /><br />
            <label for="productCategory">Categoría:</label><br />
            <input type="text" id="productCategory" name="productCategory" /><br
            />
          </div>
        </div>
        <button type="submit">Crear Producto</button>
      </form>
    </div>

    <div class="container-course-list">
      <h2>Listado de Cursos</h2>

      {{#if courses.length}}
        <ul>
          {{#each courses}}
            <li>
              <img src="{{imgUrl}}" alt="img-{{title}}" />
              <div class="cont-texts-edit">
                <strong>{{title}}</strong>
                <p>
                  Precio: ${{price}}</p>
              </div>
              <div class="group-btn">
                <button
                  class="edit-course-btn editBtn"
                  data-id="{{_id}}"
                  data-title="{{title}}"
                  data-description="{{description}}"
                  data-price="{{price}}"
                  data-imgurl="{{imgUrl}}"
                  data-videourl="{{videoUrl}}"
                >
                  <svg height="1em" viewBox="0 0 512 512">
                    <path
                      d="M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1v32c0 8.8 7.2 16 16 16h32zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"
                    ></path>
                  </svg>
                </button>
                <a href="/admin/courses/delete/{{_id}}" class="bin-button">
                  <svg
                    class="bin-top"
                    viewBox="0 0 39 7"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <line
                      y1="5"
                      x2="39"
                      y2="5"
                      stroke="white"
                      stroke-width="4"
                    ></line>
                    <line
                      x1="12"
                      y1="1.5"
                      x2="26.0357"
                      y2="1.5"
                      stroke="white"
                      stroke-width="3"
                    ></line>
                  </svg>
                  <svg
                    class="bin-bottom"
                    viewBox="0 0 33 39"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <mask id="path-1-inside-1_8_19" fill="white">
                      <path
                        d="M0 0H33V35C33 37.2091 31.2091 39 29 39H4C1.79086 39 0 37.2091 0 35V0Z"
                      ></path>
                    </mask>
                    <path
                      d="M0 0H33H0ZM37 35C37 39.4183 33.4183 43 29 43H4C-0.418278 43 -4 39.4183 -4 35H4H29H37ZM4 43C-0.418278 43 -4 39.4183 -4 35V0H4V35V43ZM37 0V35C37 39.4183 33.4183 43 29 43V35V0H37Z"
                      fill="white"
                      mask="url(#path-1-inside-1_8_19)"
                    ></path>
                    <path
                      d="M12 6L12 29"
                      stroke="white"
                      stroke-width="4"
                    ></path>
                    <path d="M21 6V29" stroke="white" stroke-width="4"></path>
                  </svg>
                </a>
              </div>
            </li>
          {{/each}}
        </ul>
      {{else}}
        <p>No hay cursos disponibles.</p>
      {{/if}}
    </div>

    {{! listado de productos }}
    <div class="container-product-list">
      <h2>Listado de Productos</h2>

      {{#if products.length}}
        <ul>
          {{#each products}}
            <li>
              <img src="{{productImgUrl}}" alt="img-{{productName}}" />
              <strong>{{productName}}</strong>
              <p>Precio: ${{productPrice}}</p>
              <div class="group-btn">
                <button
                  class="edit-product-btn editBtn"
                  data-id="{{_id}}"
                  data-stock="{{productStock}}"
                  data-name="{{productName}}"
                  data-description="{{productDescription}}"
                  data-price="{{productPrice}}"
                  data-imgurl="{{productImgUrl}}"
                  data-category="{{productCategory}}"
                >
                  <svg height="1em" viewBox="0 0 512 512">
                    <path
                      d="M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1v32c0 8.8 7.2 16 16 16h32zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"
                    ></path>
                  </svg>
                </button>
                <a href="/admin/products/delete/{{_id}}" class="bin-button">
                  <svg
                    class="bin-top"
                    viewBox="0 0 39 7"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <line
                      y1="5"
                      x2="39"
                      y2="5"
                      stroke="white"
                      stroke-width="4"
                    ></line>
                    <line
                      x1="12"
                      y1="1.5"
                      x2="26.0357"
                      y2="1.5"
                      stroke="white"
                      stroke-width="3"
                    ></line>
                  </svg>
                  <svg
                    class="bin-bottom"
                    viewBox="0 0 33 39"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <mask id="path-1-inside-1_8_19" fill="white">
                      <path
                        d="M0 0H33V35C33 37.2091 31.2091 39 29 39H4C1.79086 39 0 37.2091 0 35V0Z"
                      ></path>
                    </mask>
                    <path
                      d="M0 0H33H0ZM37 35C37 39.4183 33.4183 43 29 43H4C-0.418278 43 -4 39.4183 -4 35H4H29H37ZM4 43C-0.418278 43 -4 39.4183 -4 35V0H4V35V43ZM37 0V35C37 39.4183 33.4183 43 29 43V35V0H37Z"
                      fill="white"
                      mask="url(#path-1-inside-1_8_19)"
                    ></path>
                    <path
                      d="M12 6L12 29"
                      stroke="white"
                      stroke-width="4"
                    ></path>
                    <path d="M21 6V29" stroke="white" stroke-width="4"></path>
                  </svg>
                </a>
              </div>
            </li>
          {{/each}}
        </ul>
      {{else}}
        <p>No hay productos disponibles.</p>
      {{/if}}
    </div>

    <!-- Modal para editar producto -->
    <div id="editProductModal" style="display: none;">
      <div class="edit-modal2">
        <div class="edit-modal-head2">
          <h2>Editar Producto</h2>
          <button id="closeProductModalBtn">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              style="fill: rgba(255, 255, 255, 1);transform: ;msFilter:;"
            ><path
                d="m16.192 6.344-4.243 4.242-4.242-4.242-1.414 1.414L10.535 12l-4.242 4.242 1.414 1.414 4.242-4.242 4.243 4.242 1.414-1.414L13.364 12l4.242-4.242z"
              ></path></svg>
          </button>
        </div>
       <form id="editProductForm" method="POST">
  <input type="hidden" id="edit-product-id" name="productId" />
  <div class="edit-modal-bodyleft2">
    <label for="edit-product-name">Nombre:</label>
    <input type="text" id="edit-product-name" name="productName" required />
    <label for="edit-product-description">Descripción:</label><br />
    <textarea id="edit-product-description" name="productDescription" rows="4" required></textarea>
    <label for="edit-product-price">Precio:</label>
    <input type="number" id="edit-product-price" name="productPrice" min="0" step="0.01" required />
  </div>
  <div class="edit-modal-bodyright2">
    <label for="edit-stock">Stock:</label>
    <input type="number" id="edit-stock" name="productStock" min="0" required />
    <label for="edit-product-imgUrl">URL de la Imagen:</label>
    <input type="text" id="edit-product-imgUrl" name="productImgUrl" />
    <label for="edit-product-category">Categoría:</label>
    <input type="text" id="edit-product-category" name="productCategory" />
    <button type="submit">Actualizar Producto</button>
  </div>
</form>
      </div>
    </div>

    <!-- Modal para editar curso -->
    <div id="editCourseModal" style="display: none;">
      <div class="edit-modal">
        <div class="edit-modal-head">
          <h2>Editar Curso</h2>
          <button id="closeModalBtn"><svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              style="fill: rgba(255, 255, 255, 1);transform: ;msFilter:;"
            ><path
                d="m16.192 6.344-4.243 4.242-4.242-4.242-1.414 1.414L10.535 12l-4.242 4.242 1.414 1.414 4.242-4.242 4.243 4.242 1.414-1.414L13.364 12l4.242-4.242z"
              ></path></svg></button>
        </div>
        <form id="editCourseForm" method="POST">
          <input type="hidden" id="edit-course-id" />
          <div class="edit-modal-bodyleft">
            <label for="edit-title">Título:</label>
            <input type="text" id="edit-title" name="title" required />
            <label for="edit-description">Descripción:</label><br />
            <textarea
              id="edit-description"
              name="description"
              rows="4"
              required
            ></textarea>
            <label for="edit-price">Precio:</label>
            <input
              type="number"
              id="edit-price"
              name="price"
              min="0"
              step="0.01"
              required
            />
          </div>
          <div class="edit-modal-bodyright">
            <label for="edit-imgUrl">URL de la Imagen:</label>
            <input type="text" id="edit-imgUrl" name="imgUrl" />
            <label for="edit-videoUrl">URL del Video:</label>
            <input type="text" id="edit-videoUrl" name="videoUrl" />
            <button type="submit">Actualizar Curso</button>
          </div>
        </form>
      </div>
    </div>

    <div class="container-cards">
      <!-- Formulario para confirmar pago por transferencia -->
      <div class="container-confirm-transfer">
        <h2>Agregar curso al usuario</h2>
        <form id="confirmTransferForm">
          <label for="userId">Seleccionar Usuario:</label>
          <select id="userId" name="userId">
            {{#each users}}
              <option value="{{this._id}}">Nombre:
                {{this.name}}
                / Mail:
                {{this.email}}</option>
            {{/each}}
          </select>

          <label for="courseId">Seleccionar Curso:</label>
          <select id="courseId" name="courseId">
            {{#each courses}}
              <option value="{{this._id}}">{{this.title}}</option>
            {{/each}}
          </select>

          <button type="submit">Agregar curso</button>
        </form>
      </div>

      <div class="container-eliminar-curso">
        <h2>Eliminar curso al usuario</h2>
        <form id="delete-course">
          <label for="deleteUserId">Seleccionar Usuario:</label>
          <select id="deleteUserId" name="userId">
            {{#each users}}
              <option value="{{this._id}}">Nombre:
                {{this.name}}
                / Mail:
                {{this.email}}</option>
            {{/each}}
          </select>

          <label for="deleteCourseId">Seleccionar Curso:</label>
          <select id="deleteCourseId" name="courseId">
            <!-- Aquí se cargarán los cursos del usuario -->
          </select>

          <button type="submit">Eliminar curso</button>
        </form>
      </div>
    </div>

    <div class="container-discount">
      <!-- Formulario para crear código de descuento -->
      <div class="container-discountcode">
        <h2>Crear Código de Descuento</h2>
        <form id="discountCodeForm">
          <label for="code">Código:</label>
          <input type="text" id="code" name="code" required />
          <label for="discountPercentage">Porcentaje de Descuento:</label>
          <input
            type="number"
            id="discountPercentage"
            name="discountPercentage"
            min="0"
            max="100"
            required
          />
          <button type="submit">Crear Código</button>
        </form>
      </div>

      <!-- Listado de códigos de descuento -->
      <div class="container-discountcodes-list">
        <h2>Listado de Códigos de Descuento</h2>
        <div id="discountCodesList">
          {{#if discountCodes.length}}
            {{#each discountCodes}}
              <div class="discount-code">
                <p>{{code}} - {{discountPercentage}}%</p>
                <button class="deleteButton" data-id="{{_id}}"><svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    style="fill: rgb(255, 255, 255);transform: ;msFilter:;"
                  ><path
                      d="M6 7H5v13a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V7H6zm4 12H8v-9h2v9zm6 0h-2v-9h2v9zm.618-15L15 2H9L7.382 4H3v2h18V4z"
                    ></path></svg></button>
              </div>
            {{/each}}
          {{else}}
            <p>No hay códigos de descuento disponibles.</p>
          {{/if}}
        </div>
      </div>
    </div>

<div class="currency-rate-section">
  <h2>Actualizar Cotización</h2>
  <form id="exchangeRateForm" method="POST" action="/admin/exchange-rate">
    <label for="exchangeRate">Cotización Actual</label>
    <input type="number" id="exchangeRate" name="rate" step="0.01" required>
    <button type="submit">Actualizar</button>
  </form>
</div>

<!-- Formulario para crear servicios -->
<div class="container-new-service">
  <h2>Crear Nuevo Servicio</h2>
  <form action="/new-Servicio" method="POST">
    <div class="container-groups">
      <div class="group-input">
        <label for="nombre">Nombre del Servicio:</label>
        <input type="text" id="nombre" name="nombre" required />
        <label for="descripcion">Descripción del Servicio:</label>
        <textarea
          id="descripcion"
          name="descripcion"
          rows="4"
          required
        ></textarea>
      </div>
      <div class="group-input">
         <label for="precio">Precio:</label>
        <input
          type="number"
          id="precio"
          name="precio"
          min="0"
          step="0.01"
          required
        />
        <label for="imgUrl">Imagen URL:</label>
        <input type="text" id="imgUrl" name="imgUrl" />
        <label for="duracion">Duración:</label>
        <input type="text" id="duracion" name="duracion" />
        <!-- Agregar más campos si es necesario -->
      </div>
    </div>
    <button type="submit">Crear Servicio</button>
  </form>
</div>

<!-- Listado de Servicios -->
<div class="container-service-list">
  <h2>Listado de Servicios</h2>

  {{#if services.length}}
    <ul>
      {{#each services}}
        <li>
          <div class="cont-texts-edit3">
            <img src="{{imgUrl}}" alt="{{nombre}}">
            <strong>{{nombre}}</strong>
            <p>Precio: ${{precio}}</p>
             <div class="group-btn">
            <button
              class="edit-service-btn editBtn"
              data-id="{{_id}}"
              data-name="{{nombre}}"
              data-description="{{descripcion}}"
              data-price="{{precio}}"
              data-duration="{{duracion}}"
              data-imgurl="{{imgUrl}}"
            >
              <!-- Icono de edición -->
              <svg height="1em" viewBox="0 0 512 512">
                <path d="M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1v32c0 8.8 7.2 16 16 16h32zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"></path>
              </svg>
            </button>
            <a href="/servicio-delete/{{_id}}" class="bin-button">
              <!-- Icono de eliminación -->
              <svg class="bin-top" viewBox="0 0 39 7" fill="none" xmlns="http://www.w3.org/2000/svg">
                <line y1="5" x2="39" y2="5" stroke="white" stroke-width="4"></line>
                <line x1="12" y1="1.5" x2="26.0357" y2="1.5" stroke="white" stroke-width="3"></line>
              </svg>
              <svg class="bin-bottom" viewBox="0 0 33 39" fill="none" xmlns="http://www.w3.org/2000/svg">
                <mask id="path-1-inside-1_8_19" fill="white">
                  <path d="M0 0H33V35C33 37.2091 31.2091 39 29 39H4C1.79086 39 0 37.2091 0 35V0Z"></path>
                </mask>
                <path d="M0 0H33H0ZM37 35C37 39.4183 33.4183 43 29 43H4C-0.418278 43 -4 39.4183 -4 35H4H29H37ZM4 43C-0.418278 43 -4 39.4183 -4 35V0H4V35V43ZM37 0V35C37 39.4183 33.4183 43 29 43V35V0H37Z" fill="white" mask="url(#path-1-inside-1_8_19)"></path>
                <path d="M12 6L12 29" stroke="white" stroke-width="4"></path>
                <path d="M21 6V29" stroke="white" stroke-width="4"></path>
              </svg>
            </a>
          </div>
          </div>
         
        </li>
      {{/each}}
    </ul>
  {{else}}
    <p>No hay servicios disponibles.</p>
  {{/if}}
</div>

<!-- Modal para editar servicio -->
<div id="editServiceModal" style="display: none;">
  <div class="edit-modal3">
    <div class="edit-modal-head3">
      <h2>Editar Servicio</h2>
      <button id="closeServiceModalBtn">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill: rgba(255, 255, 255, 1);transform: ;msFilter:;">
          <path d="m16.192 6.344-4.243 4.242-4.242-4.242-1.414 1.414L10.535 12l-4.242 4.242 1.414 1.414 4.242-4.242 4.243 4.242 1.414-1.414L13.364 12l4.242-4.242z"></path>
        </svg>
      </button>
    </div>
    <form id="editServiceForm" method="POST">
      <input type="hidden" id="edit-service-id" />
      <div class="edit-modal-bodyleft3">
        <label for="edit-service-name">Nombre del Servicio:</label>
        <input type="text" id="edit-service-name" name="nombre" required />
        <label for="edit-service-description">Descripción del Servicio:</label>
        <textarea id="edit-service-description" name="descripcion" rows="4" required></textarea>
        <label for="edit-service-price">Precio:</label>
        <input type="number" id="edit-service-price" name="precio" min="0" step="0.01" required />
      </div>
      <div class="edit-modal-bodyright3">
        <label for="edit-service-imgUrl">Imagen URL:</label>
        <input type="text" id="edit-service-imgUrl" name="imgUrl" />
        <label for="edit-service-duration">Duración:</label>
        <input type="text" id="edit-service-duration" name="duracion" />
        <button type="submit">Actualizar Servicio</button>
      </div>
    </form>
  </div>
</div>


    <script src="/js/admin.js"></script>
  </body>
</html>